<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>贺卡展示</title>
    <link rel="stylesheet" href="showCover.css" />
    <script src="jquery-3.5.1.min.js"></script>
    <script src="jquery.qrcode.min.js"></script>
    <script src="html2canvas.js"></script>
</head>

<body>
    <!-- <img src="" alt="" class="image"> -->
    <div class="final">

    </div>

    <div class="section">
        <div class="pic">
            <img src="0121_1.png" alt="">
        </div>
        <div class="blessing">
            <img src="0121_2.png" alt="">
            <div class="canvas"></div>
            <span id="code"></span>
        </div>
    </div>
    <div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>
</body>
<script>
    var url = 'https://wendysong183.github.io/NewYearCard/show.html?cardId=' + location.search.substr(1).split('=')[1];
    console.log(url);
    jQuery('.canvas').qrcode({
        // render: "image",
        text: 'https://wendysong183.github.io/NewYearCard/show.html?cardId=111',
        width: 82,
        height: 82,
        // background: "#3f3243", //二维码的后景色
        // foreground: "transparent", //二维码的前景色
        src: 'wenwu.jpg',
        // correctLevel: QRCode.CorrectLevel.H,

    });


    // var canvas = jQuery('.canvas');
    // canvas.style.width = (document.documentElement.clientWidth) / 3.3;
    // console.log(canvas.width);
    // var qrcode = new QRCode("qrcode");

    // var QRcode = $('<span>');
    // QRcode.attr('id', "androidQR"); //为<div>添加属性id
    // QRcode.css('float', "right"); //这里演示如何进行css操作
    // QRcode.qrcode({
    //     width: 200,
    //     height: 200,
    //     colorDark: '#3f3243',
    //     colorLight: '#5e9a4f',
    //     // correctLevel: QRCode.CorrectLevel.H,
    //     text: 'http://www.baidu.com'
    // });
    // $('#code').append(QRcode); //将二维码元素添append到页面上id为‘code’的元素上


    var cover = document.querySelector('.section');
    var img = document.querySelector('.image');
    var final = document.querySelector('.final');
    // html2canvas(cover, {
    //     scale: 2,
    // }).then(canvas => {
    //     final.appendChild(canvas)
    //     setTimeout(() => {
    //         var imgUrl = canvas.toDataURL("image/png"); // 将canvas转换成img的src流
    //         console.log("base64编码数据：", imgUrl);
    //     }, 0)
    //     img.src = canvas.toDataURL();
    // });
    // cover.style.display = 'none';
    // final.style.display = 'none';
</script>

</html>